<!DOCTYPE html>

<title>Hello ForumController!</title>

{% block body %}
	<style>
		.example-wrapper {
			margin: 1em auto;
			max-width: 800px;
			width: 95%;
			font: 18px / 1.5 sans-serif;
		}
		.example-wrapper code {
			background: #F5F5F5;
			padding: 2px 6px;
		}
	</style>

	<div class="example-wrapper">


		<h1><a href="{{ path('forum_message_without_response') }}">{{ stats.message.noreplied }} messages sans réponse</a></h1>


		<h1>Listes des catégories avec leur derniers messages✅</h1>
		{% for tree in categorytree %}
			<h3>
				<a href="{{ path('forum_message_of_category',{id: tree.topic.id }) }}">{{ tree.topic.topic }}</a>
			</h3>
			{% if  tree.lastmessages != null %}
				{% for message in tree.lastmessages %}
					<li>

						<a href="{{ path('forum_response_of_message',{id: message.id }) }}">{{ message.title }}</a>

						{{ message.viewed }}

						{{ message.replies }}
						<a href="{{ path('forum_message_of_author',{id: message.user.id }) }}">{{ message.user.email }}</a>


					</li>
				{% endfor %}
			{% else %}
				Aucun dernier message dans
				{{ tree.topic.topic }}
			{% endif %}

			<ul></ul>
		{% else %}
			Aucune rubrique de categorie trouvée
		{% endfor %}


		<h1>Statistiques globales✅</h1>
		{# Stats sections #}
		{% if stats != null %}
			<p>{{ stats.participants.count  }}
				utilisateurs 
								participent avec
				{{ stats.message.count  }}
				message postés
								répartis dans
				{{ stats.category.count  }}
				rubriques
			</p>
			<p>

				{% if stats.participants.connected.count >= 1 %}
					{{ stats.participants.connected.count  }}
					en ligne actuellement:
				{% endif %}


				{% for user in  stats.participants.connected.list %}
					{{ user.email }}
					{% else %}
				{% endfor %}
			</p>

		{% endif %}

	</div>
{% endblock %}
